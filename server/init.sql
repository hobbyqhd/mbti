-- 创建数据库
CREATE DATABASE IF NOT EXISTS mbti;
USE mbti;

-- 创建题目表
-- 使用7级量表评分：
-- 7-强烈同意
-- 6-同意
-- 5-略微同意
-- 4-中立
-- 3-略微反对
-- 2-反对
-- 1-强烈反对
CREATE TABLE IF NOT EXISTS questions (
    id INT PRIMARY KEY AUTO_INCREMENT,
    question TEXT NOT NULL,
    dimension VARCHAR(2) NOT NULL,
    direction TINYINT NOT NULL COMMENT '1表示正向题目，-1表示反向题目',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 创建结果表
CREATE TABLE IF NOT EXISTS results (
    id VARCHAR(50) PRIMARY KEY,
    type VARCHAR(4) NOT NULL,
    dimensions JSON NOT NULL,
    report TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 插入MBTI测试题目
INSERT INTO questions (question, dimension, direction) VALUES
-- E-I维度（外向-内向）12题
('我喜欢在社交场合中主动与他人交谈', 'EI', 1),
('我享受成为人群关注的焦点', 'EI', 1),
('我更喜欢和朋友一起度过周末', 'EI', 1),
('我能很快适应并融入新的环境', 'EI', 1),
('我更喜欢团队合作而不是独自工作', 'EI', 1),
('我在会议中经常主动发言', 'EI', 1),
('我喜欢认识新朋友', 'EI', 1),
('我享受组织和领导团队活动', 'EI', 1),
('我在公共场合表达自己很自在', 'EI', 1),
('我喜欢在开放的办公环境中工作', 'EI', 1),
('我经常在社交媒体上分享生活', 'EI', 1),
('我更喜欢结伴旅行', 'EI', 1),

-- S-N维度（感觉-直觉）12题
('我更关注具体的事实和细节', 'SN', -1),
('我喜欢按部就班地学习新知识', 'SN', -1),
('我更相信实践经验', 'SN', -1),
('我注重计划的具体执行步骤', 'SN', -1),
('我倾向于使用已经证实有效的方法', 'SN', -1),
('阅读时我更注意具体的描述', 'SN', -1),
('我更依赖数据和事实做决策', 'SN', -1),
('我喜欢有明确规范的工作', 'SN', -1),
('我是一个务实的人', 'SN', -1),
('我更关注当下的实际情况', 'SN', -1),
('我喜欢稳定有序的工作环境', 'SN', -1),
('我更注重方案的可行性', 'SN', -1),

-- T-F维度（思维-情感）12题
('我做决定时更依赖逻辑分析', 'TF', 1),
('我处理矛盾时会客观分析利弊', 'TF', 1),
('我评价他人时更看重能力和成就', 'TF', 1),
('我面对批评时会理性分析', 'TF', 1),
('我的决策主要基于客观事实', 'TF', 1),
('我更重视结果的效率', 'TF', 1),
('我更关注任务的完成度', 'TF', 1),
('我在讨论中强调逻辑严谨', 'TF', 1),
('我做项目时以目标达成为重', 'TF', 1),
('我评估方案时更看重成本效益', 'TF', 1),
('我更重视客观的事实依据', 'TF', 1),
('我制定规则时强调公平公正', 'TF', 1),

-- J-P维度（判断-知觉）12题
('我习惯提前计划和安排', 'JP', 1),
('我喜欢按步就班地完成任务', 'JP', 1),
('我会提前完成截止日期的工作', 'JP', 1),
('我习惯将物品分类存放', 'JP', 1),
('我喜欢详细规划行程', 'JP', 1),
('我会立即处理收到的文件', 'JP', 1),
('我倾向于快速做出决定', 'JP', 1),
('我喜欢保持环境整洁有序', 'JP', 1),
('我严格按计划执行项目', 'JP', 1),
('我喜欢固定的日程安排', 'JP', 1),
('我按顺序完成任务清单', 'JP', 1),
('我习惯为目标做充分准备', 'JP', 1);